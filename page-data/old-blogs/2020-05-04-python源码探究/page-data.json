{"componentChunkName":"component---src-components-posts-post-template-index-js","path":"/old-blogs/2020-05-04-python源码探究/","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"layout\": \"post\",\n  \"title\": \"Python源码探究\",\n  \"subtitle\": \"以str.find为例\",\n  \"date\": \"2020-05-04T00:00:00.000Z\",\n  \"update_date\": \"2020-05-04T00:00:00.000Z\",\n  \"author\": \"pfan8\",\n  \"header-img\": \"img/post-bg-e2e-ux.jpg\",\n  \"catalog\": true,\n  \"tags\": [\"Python-CPython\", \"Python-Source Code\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"背景\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#%E8%83%8C%E6%99%AF\",\n    \"aria-label\": \"背景 permalink\",\n    \"className\": \"anchor-heading before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u80CC\\u666F\"), mdx(\"p\", null, \"\\u5728\\u505ALeetcode\\u4E2D\\u5B57\\u7B26\\u4E32\\u5339\\u914D\\u7684\\u9898\\u76EE\\u65F6\\uFF0C\\u7A81\\u7136\\u60F3\\u77E5\\u9053Python\\u4E2D\\u5185\\u7F6E\\u51FD\\u6570str.find\\u7684\\u5B9E\\u73B0\\u65B9\\u6CD5\\uFF0C\\u5C31\\u5F00\\u59CB\\u641C\\u7D22\\u67E5\\u770BPython\\u6E90\\u7801\\u3002\\u53E6\\u5916\\u4E00\\u65B9\\u9762\\uFF0C\\u5176\\u5B9E\\u4E4B\\u524D\\u5C31\\u60F3\\u67E5\\u770B\\u4E00\\u4E9BPython\\u6E90\\u7801\\uFF0C\\u4E00\\u76F4\\u6CA1\\u65F6\\u95F4\\u7814\\u7A76\\uFF0C\\u4ECA\\u5929\\u5C31\\u628A\\u8FD9\\u4E2A\\u95EE\\u9898\\u597D\\u597D\\u7814\\u7A76\\u4E00\\u4E0B\\u3002\"), mdx(\"h1\", {\n    \"id\": \"非cpython代码查看\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#%E9%9D%9Ecpython%E4%BB%A3%E7%A0%81%E6%9F%A5%E7%9C%8B\",\n    \"aria-label\": \"非cpython代码查看 permalink\",\n    \"className\": \"anchor-heading before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u975Ecpython\\u4EE3\\u7801\\u67E5\\u770B\"), mdx(\"p\", null, \"\\u901A\\u8FC7\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"help(module)\"), \"\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"module\"), \"\\u4E3A\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"import\"), \"\\u7684\\u5305\\u540D\\u79F0\\uFF0C\\u6839\\u636EFILE\\u7684\\u8DEF\\u5F84\\u5373\\u53EF\\u67E5\\u770B\\u5230\\u6E90\\u7801\\uFF0C\\u53EA\\u8981\\u662Fpython\\u5B9E\\u73B0\\u7684API\\uFF0C\\u90FD\\u80FD\\u901A\\u8FC7\\u8BE5\\u65B9\\u5F0F\\u67E5\\u770B\"), mdx(\"h1\", {\n    \"id\": \"cpython代码查看\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#cpython%E4%BB%A3%E7%A0%81%E6%9F%A5%E7%9C%8B\",\n    \"aria-label\": \"cpython代码查看 permalink\",\n    \"className\": \"anchor-heading before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"cpython\\u4EE3\\u7801\\u67E5\\u770B\"), mdx(\"p\", null, \"python\\u5F88\\u591A\\u5185\\u7F6E\\u4EE3\\u7801\\u90FD\\u662FC++\\u5B9E\\u73B0\\u7684\\uFF0C\\u4E3A\\u4E86\\u8FD0\\u884C\\u901F\\u5EA6\\uFF0C\\u4E0D\\u7136\\u6700\\u521Dpython\\u7684\\u8FD0\\u884C\\u901F\\u5EA6\\u5B9E\\u5728\\u662F\\u60E8\\u4E0D\\u5FCD\\u7779\\u2026\\u2026\\u4F46\\u662FC++\\u7684\\u4EE3\\u7801\\u4F60\\u600E\\u4E48\\u67E5\\u770B\\u5462\\uFF0C\\u8FD9\\u4E9Bbuiltin\\u7684\\u4EE3\\u7801\\u901A\\u8FC7python\\u662F\\u770B\\u4E0D\\u5230\\u7684\\uFF0C\\u4F60\\u53EA\\u80FD\\u770B\\u5230builtins\\u4E2DAPI\\u7684\\u63A5\\u53E3\\u5B9A\\u4E49\\uFF0CC++\\u7684\\u90E8\\u5206\\u5DF2\\u7ECF\\u7F16\\u8BD1\\u6210\\u4E8C\\u8FDB\\u5236\\u4E86\\uFF08\\u5E94\\u8BE5\\uFF0C\\u4E0D\\u786E\\u5B9A\\uFF09\\uFF0C\\u6240\\u4EE5\\u8981\\u770B\\u6E90\\u7801\\u53EA\\u80FD\\u662F\\u5B98\\u65B9\\u516C\\u5E03\\u4EE3\\u7801\\u624D\\u884C\\u3002\"), mdx(\"p\", null, \"\\u6240\\u5E78Python\\u662F\\u5F00\\u6E90\\u7684\\uFF0CC++\\u7684\\u90E8\\u5206\\u4E5F\\u653E\\u5728GitHub\\u4E0A\\u53EF\\u4EE5\\u76F4\\u63A5\\u641C\\u7D22\\u770B\\u5230\\uFF0CPython\\u7684C++\\u5185\\u6838\\u90E8\\u5206\\u79F0\\u4E3A\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Cpython\"), \"\\uFF0CGitHub\\u7684\\u94FE\\u63A5\\u5982\\u4E0B\\uFF1A\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/python/cpython/blob/master/Objects/stringlib/fastsearch.h\"\n  }, \"https://github.com/python/cpython/blob/master/Objects/stringlib/fastsearch.h\")), mdx(\"p\", null, \"str.find\\u7684\\u5B9E\\u73B0\\u5C31\\u5728fastsearch\\u4E2D\\uFF0C\\u5728objects\\u7684stringlib\\u91CC\\uFF0C\\u627E\\u4E86\\u534A\\u5929\\uFF08\\u6342\\u8138\\uFF09\\u3002\\u6709\\u70B9\\u597D\\u5947\\u4E3A\\u4EC0\\u4E48\\u5728h\\u5934\\u6587\\u4EF6\\u4E2D\\u5B9E\\u73B0\\uFF0C\\u9AD8\\u7EA7\\u7684C++\\u5199\\u6CD5\\uFF0C\\u8FD8\\u4E0D\\u61C2\\u3002\"), mdx(\"p\", null, \"\\u770B\\u6CE8\\u91CA\\u53EF\\u4EE5\\u770B\\u5230\\u8BF4\\u4E86\\u662F\\u7ED3\\u5408boyer-moore\\u548Chorspool\\u5B9E\\u73B0\\u7684\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c++\"\n  }, \"\\n/* fast search/count implementation, based on a mix between boyer-\\nmoore and horspool, with a few more bells and whistles on the top.\\nfor some more background, see: http://effbot.org/zone/stringlib.htm */\\n\\n\")), mdx(\"p\", null, \"\\u4EE3\\u7801\\u6211\\u6CA1\\u6709\\u4ED4\\u7EC6\\u770B\\uFF0C\\u5927\\u81F4\\u77E5\\u9053\\u7528\\u7684\\u7B97\\u6CD5\\u5373\\u53EF\\uFF0C\\u5173\\u4E8E\\u5B57\\u7B26\\u4E32\\u5339\\u914D\\u7684\\u7B97\\u6CD5\\u53EF\\u4EE5\\u67E5\\u770B\\u672C\\u4EBA\\u7684\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/pfan8/LeetCode/blob/master/%E5%AD%97%E7%AC%A6%E4%B8%B2/%5BLeetCode%2028%5D%20Implement%20strStr()/%E6%80%BB%E7%BB%93.md\"\n  }, \"LeetCode\\u603B\\u7ED3\\u6587\\u7AE0\")), mdx(\"h1\", {\n    \"id\": \"源码example（持续更新）\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#%E6%BA%90%E7%A0%81example%EF%BC%88%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%89\",\n    \"aria-label\": \"源码example（持续更新） permalink\",\n    \"className\": \"anchor-heading before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u6E90\\u7801Example\\uFF08\\u6301\\u7EED\\u66F4\\u65B0\\uFF09\"), mdx(\"p\", null, \"\\u6700\\u8FD1\\u53C8\\u60F3\\u770B\\u770BPython\\u4E00\\u4E9B\\u5185\\u7F6E\\u51FD\\u6570\\u7684\\u5B9E\\u73B0\\uFF0C\\u6211\\u60F3\\u4EE5\\u540E\\u53EF\\u80FD\\u8FD8\\u4F1A\\u6709\\u8FD9\\u6837\\u7684\\u9700\\u6C42\\uFF0C\\u6240\\u4EE5\\u5C31\\u653E\\u5230\\u8FD9\\u4E2A\\u4F4D\\u7F6E\\u6301\\u7EED\\u66F4\\u65B0\\u5427\"), mdx(\"h2\", {\n    \"id\": \"min\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#min\",\n    \"aria-label\": \"min permalink\",\n    \"className\": \"anchor-heading before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"min()\"), mdx(\"p\", null, \"min\\u51FD\\u6570\\u76F8\\u4FE1\\u6CA1\\u6709\\u4EBA\\u6CA1\\u7528\\u8FC7\\uFF0C\\u4F46\\u662F\\u4ED6\\u600E\\u4E48\\u5B9E\\u73B0\\u7684\\u6211\\u4E5F\\u80AF\\u5B9A99%\\u7684Python\\u7528\\u6237\\u4E0D\\u77E5\\u9053\\u3002\\u540C\\u6837\\u662F\\u505A\\u4E00\\u9053\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://leetcode.com/problems/find-minimum-in-rotated-sorted-array-ii/submissions/\"\n  }, \"\\u6C42\\u6700\\u5C0F\\u503C\\u7684LeetCode\\u9898\"), \"\\u7684\\u65F6\\u5019\\uFF0C\\u6211\\u5F88\\u597D\\u5947Python\\u662F\\u600E\\u4E48\\u5B9E\\u73B0\\u7684\\uFF0C\\u56E0\\u4E3Amin\\u662F\\u6240\\u6709\\u7B54\\u6848\\u91CC\\u901F\\u5EA6\\u6700\\u5FEB\\u7684\"), mdx(\"p\", null, \"\\u8FD9\\u6B21\\u5728github\\u4E0A\\u8FD8\\u4E0D\\u597D\\u67E5\\u627E\\uFF0C\\u6211\\u76F4\\u63A5\\u628Acpython\\u7684\\u4EE3\\u7801clone\\u4E0B\\u6765\\u4E86\\uFF0C\\u5728vscode\\u91CC\\u627E\\u534A\\u5929\\uFF0C\\u6700\\u540E\\u627E\\u5230\\u4E00\\u4E2Amin_max()\\uFF0C\\u5173\\u952E\\u5B9E\\u73B0\\u5982\\u4E0B\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c++\"\n  }, \"int cmp = PyObject_RichCompareBool(val, maxval, op);\\nif (cmp < 0)\\n    goto Fail_it_item_and_val;\\nelse if (cmp > 0) {\\n    Py_DECREF(maxval);\\n    Py_DECREF(maxitem);\\n    maxval = val;\\n    maxitem = item;\\n}\\nelse {\\n    Py_DECREF(item);\\n    Py_DECREF(val);\\n}\\n\")), mdx(\"p\", null, \"cmp\\u5C31\\u662F\\u6BD4\\u8F83\\u51FD\\u6570\\uFF0C\\u57FA\\u4E8E\\u8BBE\\u8BA1\\u6A21\\u5F0F\\u539F\\u5219\\uFF0C\\u8FD9\\u6837\\u5199\\u4F1A\\u66F4\\u6613\\u4E8E\\u4FEE\\u6539\\u3002\\u5F88\\u660E\\u663E\\uFF0Cmaxval\\u5C31\\u662F\\u904D\\u5386\\u5224\\u65AD\\u662F\\u5426\\u6BD4\\u5F53\\u524D\\u503C\\u5927\\uFF0C\\u5927\\u7684\\u8BDD\\u5C31\\u66F4\\u65B0\\uFF0C\\u5F88brute-force\\uFF0C\\u4F46\\u662F\\u5B83\\u5C31\\u662F\\u6700\\u5FEB\\u7684\\uFF01\\u770B\\u6765\\u662F\\u56E0\\u4E3Ac++\\u4EE3\\u7801\\u7684\\u539F\\u56E0\\u4E86\\uFF0C\\u4E0D\\u7136\\u8FD9\\u5B9E\\u5728\\u6CA1\\u7406\\u7531\\u6BD4BS\\u5FEB\\uFF08\\u9488\\u5BF9LeetCode\\u90A3\\u9053\\u9898\\uFF09\\u3002\\u4E0D\\u8FC7\\u53C8\\u77E5\\u9053\\u4E86\\u4E00\\u4E2A\\u5E38\\u7528\\u51FD\\u6570\\u7684\\u5B9E\\u73B0\\uFF0C\\u611F\\u89C9\\u8FD8\\u662F\\u633A\\u68D2\\u7684~\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"背景 在做Leetcode中字符串匹配的题目时，突然想知道Python中内置函数str.find的实现方法，就开始搜索查看Python源码。另外一方面，其实之前就想查看一些Python源码，一直没时间研究，今天就把这个问题好好研究一下。 非cpython代码查看 通过 help…","fields":{"slug":"/old-blogs/2020-05-04-python源码探究/"},"frontmatter":{"title":"Python源码探究","date":"05/04/2020","tags":["Python-CPython","Python-Source Code"]}}},"pageContext":{"slug":"/old-blogs/2020-05-04-python源码探究/","next":{"fields":{"slug":"/old-blogs/2020-05-19-剑指offer总结/"},"frontmatter":{"title":"剑指offer总结","tags":["Algorithm-剑指offer","Algorithm-Conclusion"],"date":"2020-05-19T00:00:00.000Z","excerpt":null,"draft":null}},"prev":{"fields":{"slug":"/old-blogs/2019-07-25-cin cout VS scanf printf/"},"frontmatter":{"title":"cin cout VS scanf printf","tags":["C++-IO"],"date":"2019-07-29T00:00:00.000Z","excerpt":null,"draft":null}}}},"staticQueryHashes":["1703067421","3649515864","63159454"]}