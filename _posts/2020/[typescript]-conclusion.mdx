---
title: TypeScript çŸ¥è¯†ç‚¹æ€»ç»“
date: 2021-04-08
tags: [TypeScript]
excerpt: TSä»‹ç»ï¼Œç¼–è¯‘å™¨ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ¥å£ï¼Œæ³›å‹ï¼Œé«˜çº§ç”¨æ³•...
---

<Info title="å‰è¨€">

### TypeScript for Tooling

TypeScript é™¤äº†èƒ½å¤Ÿå‘ç°æˆ‘ä»¬ ts code ä¸­çš„ bugï¼Œè¿˜å¯ä»¥åœ¨ä½ ç¼–è¾‘çš„æ—¶å€™å°±å¸®åŠ©ä½ æ›´å¥½åœ°é¿å…äº§ç”Ÿè¿™äº› bugï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ IDE ä¸­èƒ½å¸®åŠ©æˆ‘ä»¬ codingï¼ŒåŒ…æ‹¬å‡½æ•°è°ƒç”¨æç¤ºé¢æ¿ï¼Œè‡ªåŠ¨ä¿®å¤æç¤ºï¼ˆquick fixesï¼‰ï¼Œç›´æ¥è·³è½¬åˆ°æ¥å£å®šä¹‰ç­‰ç­‰ã€‚è¿™äº›åŠŸèƒ½éƒ½æ˜¯é€šè¿‡ type-check å®ç°çš„ï¼Œè€Œä»¥ä¸‹è¿™äº›ä¸»æµ IDE éƒ½å¯¹ TS æœ‰è‰¯å¥½çš„æ”¯æŒï¼Œå¹¶ä¸”æ˜¯è·¨å¹³å°çš„ï¼š

- [alm.tools](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#alm)
- [Atom](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#atom)
- [CATS](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#cats)
- [Eclipse](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#eclipse)
- [Emacs](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#emacs)
- [NeoVim](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#neovim)
- [NetBeans](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#netbeans)
- [Notepad++](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#notepad)
- [Sublime Text](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#sublime-text)
- [Vim](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#vim)
- [Visual Studio](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#visual-studio-20132015)
- [Visual Studio Code](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#visual-studio-code)
- [WebStorm](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support#webstorm)

è¯¦ç»†å¯ä»¥æŸ¥çœ‹[å®˜æ–¹æ–‡æ¡£](https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support)

### the TypeScript compiler

ä¸»æµçš„ TS ç¼–è¯‘å™¨å·¥å…·æœ‰ 3 ä¸ªï¼š

- tscï¼šTS å®˜æ–¹çš„ç¼–è¯‘å™¨ï¼Œä½œä¸º type-checkerï¼Œåªæœ‰ tsc å¯ä»¥åš type-checkingï¼Œä»£ä»·å°±æ˜¯è€—æ—¶ï¼ŒåŒæ—¶å…¶ç¼–è¯‘å‚æ•°ä¹Ÿæ˜¯æœ€ä¸°å¯Œçš„ã€‚
- ts-nodeï¼šç›¸å½“äºæ˜¯ä¸€ä¸ª node çš„å¯æ‰§è¡Œç¯å¢ƒï¼Œå¹¶ä¸”åŒ…å« TS æ”¯æŒçš„æ¨¡å—å¯ä»¥è¿è¡Œè¿‡ç¨‹ä¸­ç¼–è¯‘ TSï¼Œå®é™…ä½¿ç”¨ä¸­å°±ç›¸å½“äºå¯ä»¥ç›´æ¥æ‰§è¡Œ ts æ–‡ä»¶è€Œä¸ç”¨è¾“å‡º jsï¼Œå¦å¤–ï¼Œts-node å¯ä»¥æŒ‡å®š TS ç¼–è¯‘å™¨ï¼Œé»˜è®¤æ˜¯ç”¨ tsc
- babel + ts-pluginï¼šbabel æœ‰è‡ªå·±çš„ TS è½¬æ¢æ’ä»¶ `@babel/plugin-transform-typescript`ï¼Œä½†æ˜¯è¿™ä¸ªæ’ä»¶ç›¸æ¯” tsc å°‘äº†ä¸€äº›åŠŸèƒ½ï¼šå®ƒæ²¡æœ‰ type-checkingï¼Œå¹¶ä¸”åªä¼šè½¬æ¢å•ä¸ªæ–‡ä»¶ï¼Œå¯¼è‡´å…¶æ— æ³•ç†è§£æ•´ä¸ªé¡¹ç›®çš„ç±»å‹ç³»ç»Ÿï¼Œå¦‚æœæŒ‡å®š ts-config çš„ `isolatedModules `å¯ä»¥å‘Šè¯‰ TS å¦‚æœæœ‰ä¸€äº›æ–‡ä»¶æ— æ³•ç”¨ babel è¿™æ ·çš„å•æ–‡ä»¶è½¬æ¢å·¥å…·è¿›è¡Œæ­£ç¡®åœ°è§£é‡Šï¼Œå°±è¿›è¡Œ warn æç¤º

é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ `swc` ä»¥åŠ `Sucrase` ç­‰æ˜¯å¯å…¼å®¹ TS çš„è½¬æ¢å™¨ï¼ˆæ³¨æ„ï¼Œæ˜¯ transpilerï¼Œè€Œä¸æ˜¯ compilerï¼Œåªæœ‰ tsc æ˜¯ compilerï¼‰

#### å…³äº TS ä¸­çš„ Errors

å¦‚æœåœ¨ ts æ–‡ä»¶ä¸­æœ‰é”™è¯¯ï¼Œç”¨ `tsc` ç¼–è¯‘æ—¶é»˜è®¤ä¾ç„¶ä¼šè¾“å‡º js æ–‡ä»¶ï¼Œç”šè‡³æœ‰å¯èƒ½ä½ èƒ½æˆåŠŸè¿è¡Œè¯¥ js æ–‡ä»¶ï¼Œä½†æ˜¯è¡Œä¸ºä¸ç¬¦åˆé¢„æœŸï¼Œä¾‹å¦‚ï¼š

```typescript
// This is an industrial-grade general-purpose greeter function:
function greet(person, date) {
  console.log(`Hello ${person}, today is ${date}!`)
}

greet("Brendan")
```

`tsc` ä¹‹åä½ å¯ä»¥å¾—åˆ°ï¼š

```javascript
// This is an industrial-grade general-purpose greeter function:
function greet(person, date) {
  console.log("Hello " + person + ", today is " + date + "!")
}
greet("Brendan")
```

ç”šè‡³ä½ è¿è¡Œå¯ä»¥çœ‹åˆ°ç»“æœ

```
Hello Brendan, today is undefined!
```

ä½†æ˜¯ undefined å¤šåŠä¸æ˜¯æˆ‘ä»¬çš„é¢„æœŸç»“æœ

å¦‚æœæƒ³è¦è®© `tsc` åœ¨ç¼–è¯‘æ—¶ä¸ skip errorï¼Œä¸€æ—¦æœ‰é”™å°±ä¸ç”Ÿæˆ js æ–‡ä»¶çš„è¯ï¼Œå¯ä»¥æ·»åŠ  `--noEmitOnError`å‚æ•°ï¼Œä¾‹å¦‚ä¸Šè¿°æ–‡ä»¶ï¼ˆå‡è®¾ä¸º `ts_study.ts`ï¼‰ï¼Œè¿è¡Œ

```shell
â¯ tsc --noEmitOnError ts_study.ts
ts_study.ts:17:1 - error TS2554: Expected 2 arguments, but got 1.

17 greet("Brendan");
   ~~~~~~~~~~~~~~~~

  ts_study.ts:13:24
    13 function greet(person, date) {
                              ~~~~
    An argument for 'date' was not provided.


Found 1 error.
```

å°±ä¼šæç¤ºæŠ¥é”™ï¼Œå¹¶ä¸”ä¸ç”Ÿæˆå¯¹åº”çš„ js æ–‡ä»¶

</Info>

<Primary title="1. åŸºç¡€ç±»å‹">

ä»¥ä¸‹å·¦è¾¹å¯¹åº” JavaScriptï¼Œå³è¾¹æ˜¯ TypeScript

- Booleanï¼šboolean
- Numberï¼šnumber
- Stringï¼šstring
- ç©ºå€¼ï¼švoidï¼ˆ TS ä¸­çš„ void å¹¶ä¸æ˜¯ JS ä¸­çš„ void ï¼‰
- Nullï¼šnull
- Undefinedï¼šundefined
- Symbolï¼šsymbol
- BigIntï¼šbigint

å¯ä»¥çœ‹å‡ºåŸºæœ¬ä¸Š TS ä¸­çš„åŸºæœ¬ç±»å‹å°±æ˜¯è®² JS ä¸­çš„å„ç§åŸºæœ¬ç±»å‹çš„åŸå‹åæ”¹ä¸ºå°å†™

éœ€è¦æ³¨æ„ï¼Œvoid åœ¨ JS ä¸­æ˜¯ä¸€ä¸ªæ“ä½œç¬¦ï¼Œè¡¨ç¤ºåé¢çš„`function`æˆ–è€…`expression`æ€»æ˜¯è¿”å› undefinedï¼Œä¾‹å¦‚ï¼š

```javascript
let i = void 2 // i === undefined

void (function aRecursion(i) {
  if (i > 0) {
    console.log(i--)
    aRecursion(i)
  }
})(3)

console.log(typeof aRecursion) // undefined
```

è‡³äºå¥½å¤„å°±æ˜¯ï¼Œå¦‚æœä½ çš„ app é‡ŒæŸä¸ªæ¥å£è¦æ±‚å¿…é¡»è¿”å› undefined æˆ–è€…åœ¨å¼‚å¸¸æ—¶åªæ¥å— undefined çš„ç»“æœï¼Œå…¶ä»–ç»“æœä¼šæŠ¥é”™ï¼Œé‚£ä¹ˆç”¨ void å¯ä»¥ä¿è¯ app ä¸ä¼š crashï¼š

```javascript
// returning something else than undefined would crash the app
function middleware(nextCallback) {
  if (conditionApplies()) {
    return void nextCallback()
  }
}
// or
button.onclick = () => void doSomething()
```

è€Œ TS ä¸­çš„ void æ˜¯ä¸€ç§ç±»å‹ï¼Œç›¸å½“äº undefined çš„ä¸€ä¸ªå­ç±»ï¼Œè¡¨ç¤ºå‡½æ•°ä¸è¿”å›å€¼ï¼Œè€Œåœ¨ js é‡Œå¦‚æœå‡½æ•°æ²¡æœ‰æ˜¾ç¤ºè°ƒç”¨ returnï¼Œåˆ™é»˜è®¤è¿”å› undefined ä½œä¸ºå‡½æ•°è¿”å›å€¼ã€‚ç„¶è€Œéœ€è¦æ³¨æ„ï¼ŒTS ä¸­ï¼Œvoid ä¸ç­‰åŒäº undefinedï¼ŒTS å®˜ç½‘å¯¹ `void` çš„å®šä¹‰ï¼š

> `void` represents the return value of functions which donâ€™t return a value. Itâ€™s the inferred type any time a function doesnâ€™t have any `return` statements, or doesnâ€™t return any explicit value from those return statements:

æ³¨æ„æœ€åä¸€å¥è¯ `or doesnâ€™t return any explicit value from those return statements:`ï¼Œæ„æ€å°±æ˜¯ä½ è™½ç„¶å®šä¹‰äº† voidï¼Œä½†æ˜¯ä½œä¸ºå‡½æ•°å¯ä»¥è¿”å›ä»»ä½•å€¼ï¼Œæ‰€ä»¥å¦‚æœä½ ç”¨ undefined å°±ä¼šæŠ¥é”™ä½†æ˜¯ `void` ä¸ä¼šï¼š

```typescript
function doSomething(callback: () => void) {
  // at this position, callback always returns undefined
  let c = callback()
  //c is also of type undefiend
}

// this function returns a number
function aNumberCallback(): number {
  return 2;
}

// works ğŸ‘ type safety is ensured in doSometing
doSomething(aNumberCallback)

// if you change the code above like
- function doSomething(callback: () => void) {
+ function doSomething(callback: () => undefined) { /* ... */ }

function aNumberCallback(): number { return 2; }

// ğŸ’¥ types don't match
doSomething(aNumberCallback)
```

å®˜ç½‘çš„è§£é‡Šè¯´ `void` çš„å«ä¹‰åº”å½“æ˜¯ä¸æŒ‡æœ›å‡½æ•°è¿”å›ä»»ä½•ç»“æœï¼Œå®é™…ä¸Šå‡½æ•°ä½ è¿”å›ä»€ä¹ˆä¸œè¥¿æˆ‘ä¸ careï¼Œæ‰€ä»¥å¯¼è‡´è¿™ä¸ªç»“æœï¼Œæˆ‘è§‰å¾—ä¹Ÿ make senseï¼Œä¸ç„¶ç›´æ¥ç”¨ undefined ä¸å°±å¥½äº†

#### P.S. è¡¥å……

1. å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¹¶ä¸éœ€è¦æ˜¾ç¤ºå£°æ˜å˜é‡çš„ç±»å‹ï¼Œä¾‹å¦‚

```typescript
let msg: string = "hello there!"
// equal to
let msg = "hello there!"
```

å› ä¸º TypeScript èƒ½å¤Ÿæ¨æ–­ï¼ˆinferï¼‰å‡º `msg` å˜é‡æ˜¯ stringï¼Œå¹¶ä¸”åœ¨ IDE ä¸­ï¼Œå½“é¼ æ ‡ hover åœ¨ msg ä¸Šæ—¶ï¼Œä¼šè‡ªåŠ¨å¼¹å‡º TS çš„ç±»å‹æç¤º

2. TS å¯ä»¥åš downleveling ï¼šdownleveling æ˜¯æŒ‡åœ¨ç¼–è¯‘ TS åˆ° JS æ—¶ï¼Œå¯¹åº”çš„ ECMAScript ç‰ˆæœ¬ï¼ŒTS èƒ½å¤Ÿç›´æ¥å°† TS ä»£ç è½¬æ¢æˆä½ç‰ˆæœ¬çš„ ECMAScriptï¼Œ é€šè¿‡ `--target` å‚æ•°å¯ä»¥åœ¨ `tsc` ä¸­æŒ‡å®šï¼Œ ä¾‹å¦‚ï¼š

```shell
tsc --target es2015 input.ts
```

â€‹ æˆ–è€…åœ¨ tsconfig.json ï¼ˆbabelï¼‰ä¸­æŒ‡å®š

3. æœ€ä¸»è¦ã€å®ç”¨çš„ 2 ä¸ª TS ç¼–è¯‘é€‰é¡¹ï¼ˆin tsconfig.jsonï¼‰ï¼š
   - `noImplicitAny`ï¼šå¦‚æœ TS æ¨æµ‹ä¸€ä¸ªå˜é‡ç±»å‹æ˜¯ `any`ï¼Œåˆ™ä¼šæŠ›å‡ºé”™è¯¯ï¼Œé™¤éä½ æ˜¾ç¤ºæŒ‡å®šå˜é‡ç±»å‹æ˜¯ `any` ï¼Œå› ä¸ºå¦‚æœå˜é‡éƒ½æ˜¯ `any`ï¼Œé‚£ä¹Ÿå¤±å»äº†å®ç”¨ TypeScript çš„æ„ä¹‰
   - `strictNullChecks`ï¼šTS ä¸­ï¼Œ`null` å’Œ `undefined` é»˜è®¤å¯ä»¥èµ‹å€¼ä»»ä½•å€¼ï¼Œå› ä¸ºä»»ä½•ç±»å‹éƒ½ä¸èƒ½æ˜ç¡®å®šä¹‰ä¸åŒ…å« `null` å’Œ `undefined`ï¼Œä½†æ˜¯ä¸å¤„ç† `null` å’Œ `undefined` ä¼šé€ æˆå¾ˆå¤šé”™è¯¯ï¼Œä¾‹å¦‚æ³¨æ˜çš„[billion dollar mistake](https://www.youtube.com/watch?v=ybrQvs4x0Ps&ab_channel=JoseCan)ã€‚è€Œåœ¨ä¸¥æ ¼ç©ºæ£€æŸ¥æ¨¡å¼ï¼ˆ`strictNullChecks`ï¼‰ä¸‹ï¼Œ `null` å’Œ `undefined` å€¼éƒ½ _ä¸_ å±äºä»»ä½•ä¸€ä¸ªç±»å‹ï¼Œå®ƒä»¬åªèƒ½èµ‹å€¼ç»™è‡ªå·±è¿™ç§ç±»å‹æˆ–è€… `any` (æœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œ`undefined` ä¹Ÿå¯ä»¥èµ‹å€¼ç»™ `void`)ã€‚å› æ­¤ï¼Œåœ¨å¸¸è§„ç±»å‹æ£€æŸ¥æ¨¡å¼ä¸‹ `T` å’Œ `T | ndefined` è¢«è®¤ä¸ºæ˜¯ç­‰åŒçš„ï¼ˆå› ä¸º `undefined` è¢«çœ‹ä½œ `T` çš„å­ç±»å‹ï¼‰ï¼Œä½†å®ƒä»¬åœ¨ä¸¥æ ¼ç±»å‹æ£€æŸ¥æ¨¡å¼ä¸‹æ˜¯ä¸åŒçš„ç±»å‹ï¼Œåªæœ‰ `T | undefined` ç±»å‹å…è®¸å‡ºç° `undefined` å€¼ã€‚`T` å’Œ `T | null` ä¹Ÿæ˜¯è¿™ç§æƒ…å†µã€‚

</Primary>

<Primary title="1* å…¶ä»–å¸¸è§ç±»å‹">

### never

never ç±»å‹è¡¨ç¤ºçš„æ˜¯é‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ï¼Œnever ç±»å‹æ˜¯ä»»ä½•ç±»å‹çš„å­ç±»å‹ï¼Œä¹Ÿå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ï¼›ç„¶è€Œï¼Œæ²¡æœ‰ç±»å‹æ˜¯ never çš„å­ç±»å‹æˆ–å¯ä»¥èµ‹å€¼ç»™ never ç±»å‹ï¼ˆé™¤äº† never æœ¬èº«ä¹‹å¤–ï¼‰ã€‚

> å³ä½¿ any ä¹Ÿä¸å¯ä»¥èµ‹å€¼ç»™ neverã€‚

ä¸¤ä¸ªåœºæ™¯ä¸­ never æ¯”è¾ƒå¸¸è§:

```
// æŠ›å‡ºå¼‚å¸¸çš„å‡½æ•°æ°¸è¿œä¸ä¼šæœ‰è¿”å›å€¼
function error(message: string): never {
    throw new Error(message);
}
// ç©ºæ•°ç»„ï¼Œè€Œä¸”æ°¸è¿œæ˜¯ç©ºçš„
const empty: never[] = []
```

### å…ƒç»„ï¼ˆTupleï¼‰

å…ƒç»„ç±»å‹ä¸æ•°ç»„ç±»å‹éå¸¸ç›¸ä¼¼ï¼Œè¡¨ç¤ºä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ï¼Œå„å…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒã€‚

æ¯”å¦‚ï¼Œä½ å¯ä»¥å®šä¹‰ä¸€å¯¹å€¼åˆ†åˆ«ä¸º`string`å’Œ`number`ç±»å‹çš„å…ƒç»„ã€‚

```
let x: [string, number];
x = ['hello', 10, false] // Error
x = ['hello'] // Error
```

æˆ‘ä»¬çœ‹åˆ°ï¼Œè¿™å°±æ˜¯å…ƒç»„ä¸æ•°ç»„çš„ä¸åŒä¹‹å¤„ï¼Œå…ƒç»„çš„ç±»å‹å¦‚æœå¤šå‡ºæˆ–è€…å°‘äºè§„å®šçš„ç±»å‹æ˜¯ä¼šæŠ¥é”™çš„ï¼Œå¿…é¡»ä¸¥æ ¼è·Ÿäº‹å…ˆå£°æ˜çš„ç±»å‹ä¸€è‡´æ‰ä¸ä¼šæŠ¥é”™ã€‚

é‚£ä¹ˆæœ‰äººä¼šé—®ï¼Œæˆ‘ä»¬çš„ç±»å‹å®Œå…¨ä¸€è‡´ï¼Œåªæ˜¯é¡ºåºé”™äº†æœ‰æ²¡æœ‰é—®é¢˜ï¼Œæ¯”å¦‚ä¸Šä¸ªä¾‹å­ä¸­æˆ‘ä»¬æŠŠ `string`ã€`number` è°ƒæ¢ä½ç½®ï¼š

```
let x: [string, number];
x = ['hello', 10]; // OK
x = [10, 'hello']; // Error
```

æˆ‘ä»¬çœ‹åˆ°ï¼Œå…ƒç»„éå¸¸ä¸¥æ ¼ï¼Œå³ä½¿ç±»å‹çš„é¡ºåºä¸ä¸€æ ·ä¹Ÿä¼šæŠ¥é”™ã€‚

å…ƒç»„ä¸­åŒ…å«çš„å…ƒç´ ï¼Œå¿…é¡»ä¸å£°æ˜çš„ç±»å‹ä¸€è‡´ï¼Œè€Œä¸”ä¸èƒ½å¤šã€ä¸èƒ½å°‘ï¼Œç”šè‡³é¡ºåºä¸èƒ½ä¸ç¬¦ã€‚

æˆ‘ä»¬å¯ä»¥æŠŠå…ƒç»„çœ‹æˆä¸¥æ ¼ç‰ˆçš„æ•°ç»„ï¼Œæ¯”å¦‚`[string, number]`æˆ‘ä»¬å¯ä»¥çœ‹æˆæ˜¯:

```
interface Tuple extends Array<string | number> {
  0: string;
  1: number;
  length: 2;
}
```

å…ƒç»„ç»§æ‰¿äºæ•°ç»„ï¼Œä½†æ˜¯æ¯”æ•°ç»„æ‹¥æœ‰æ›´ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ã€‚

### Object

object è¡¨ç¤ºéåŸå§‹ç±»å‹ï¼Œä¹Ÿå°±æ˜¯é™¤ numberï¼Œstringï¼Œbooleanï¼Œsymbolï¼Œnull æˆ– undefined ä¹‹å¤–çš„ç±»å‹ã€‚

```
// è¿™æ˜¯ä¸‹ä¸€èŠ‚ä¼šæåˆ°çš„æšä¸¾ç±»å‹
enum Direction {
    Center = 1
}
let value: object
value = Direction
value = [1]
value = [1, 'hello']
value = {}
```

æˆ‘ä»¬çœ‹åˆ°,æ™®é€šå¯¹è±¡ã€æšä¸¾ã€æ•°ç»„ã€å…ƒç»„é€šé€šéƒ½æ˜¯ `object` ç±»å‹ã€‚

### Enum

å…³äº Enum çš„è¯¦ç»†è®²è§£å¯ä»¥æŸ¥çœ‹[åšå®¢](https://g.yuque.com/cuggz/ts/dzzf93)ç¬¬ 6 èŠ‚ï¼Œè¿™é‡Œä¸»è¦è®²ä¸€ä¸‹æšä¸¾çš„æœ¬è´¨ï¼š

ä¾‹å¦‚å¦‚ä¸‹ ts ä»£ç 

```typescript
enum Direction {
  Up = 10,
  Down,
  Left,
  Right,
}
```

åœ¨ç»è¿‡ `tsc` ç¼–è¯‘è¿‡åä¼šå¾—åˆ°ï¼š

```javascript
var Direction
;(function (Direction) {
  Direction[(Direction["Up"] = 10)] = "Up"
  Direction[(Direction["Down"] = 11)] = "Down"
  Direction[(Direction["Left"] = 12)] = "Left"
  Direction[(Direction["Right"] = 13)] = "Right"
})(Direction || (Direction = {}))
```

ä»è€Œä½ å¯ä»¥å¾—åˆ° `Direction[10] === 'Up'` ä»¥åŠ `Direction['Up'] === 10`ï¼Œä¹Ÿå°±æ˜¯ `key <=> value` åŒå‘ç»‘å®šï¼Œæ‰€ä»¥ Enum å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªç»è¿‡ç‰¹æ®Šå¤„ç†çš„ Object

æŸ¥çœ‹å¦‚ä¸‹ä»£ç ï¼š

```typescr
enum Enum {
  A,
}

let a = Enum.A;
let nameOfA = Enum[a]; // "A"
```

è¿™æ ·å¯ä»¥çœ‹åˆ°åå‘æ˜ å°„çš„ä½œç”¨ï¼Œä¸è¿‡å®é™…åº”ç”¨åœºæ™¯åº”è¯¥ä¸å¤š

å¦å¤–å…³äº `const` enums å’Œ enums vs objectï¼Œå¯ä»¥æŸ¥çœ‹[å®˜ç½‘](https://www.typescriptlang.org/docs/handbook/enums.html)çš„è¯´æ˜ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°

</Primary>

<Primary title="2. Type å’Œ Interface">

Type å’Œ Interface çš„åŸºæœ¬ä½¿ç”¨å°±ä¸å†è¯´æ˜ï¼Œå¾ˆå®¹æ˜“æœåˆ°ï¼Œè¿™é‡Œä¸»è¦è®¨è®ºä¸‹å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ï¼š

ä¸»è¦åŒºåˆ«æ˜¯ type ä¸€æ—¦å®šä¹‰å°±ä¸èƒ½æ·»åŠ æ–°çš„å±æ€§ï¼ˆpropertiesï¼‰ï¼Œè€Œ interface å¯ä»¥ï¼Œå¯ä»¥å‚è€ƒå®˜ç½‘çš„[ä¾‹å­](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#differences-between-type-aliases-and-interfaces) ï¼ˆä¸‹é¢ä¹Ÿç»™å‡ºäº†ç›¸å…³ codeï¼Œä½†æ˜¯ç”±äºæ²¡èƒ½è§£å†³ MDX æ¸²æŸ“ code block çš„é—®é¢˜ï¼Œæ‰€ä»¥æ²¡æœ‰å®˜ç½‘å±•ç¤ºå¾—æ¸…æ™°ï¼‰

```typescript
// Extending an interface
interface Animal {
  name: string
}

interface Bear extends Animal {
  honey: boolean
}

const bear = getBear()
bear.name
bear.honey

// Extending a type via intersections
type Animal = {
  name: string
}

type Bear = Animal & {
  honey: Boolean
}

const bear = getBear()
bear.name
bear.honey

// Adding new fields to an existing interface
interface Window {
  title: string
}

interface Window {
  ts: TypeScriptAPI
}

const src = 'const a = "Hello World"'
window.ts.transpileModule(src, {})

// A type cannot be changed after being created
type Window = {
  title: string
}

type Window = {
  ts: TypeScriptAPI
}

// Error: Duplicate identifier 'Window'.
```

å¦å¤–è¿˜æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š

- `type` åœ¨ TS 4.2 ä¹‹å‰æˆ–è®¸ä¼šåœ¨é”™è¯¯æç¤ºä¸­æ˜¾ç¤ºä¸€äº›åŒ¿åç±»å‹ï¼ˆè€Œéä½ æŒ‡å®šçš„ç±»å‹ï¼‰ï¼Œè¿™ä¸ªç»“æœæˆ–è®¸ä¸æ˜¯ä½ æƒ³è¦çš„ï¼Œå¯ä»¥æŸ¥çœ‹å®˜ç½‘çš„[PlayGround](https://www.typescriptlang.org/play?ts=4.2.3#code/PTAEGEHsFsAcEsA2BTATqNrLusgzngIYDm+oA7koqIYuYQJ56gCueyoAUCKAC4AWHAHaFcoSADMaQ0PCG80EwgGNkALk6c5C1EtWgAsqOi1QAb06groEbjWg8vVHOKcAvpokshy3vEgyyMr8kEbQJogAFND2YREAlOaW1soBeJAoAHSIkMTRmbbI8e6aPMiZxJmgACqCGKhY6ABGyDnkFFQ0dIzMbBwCwqIccabcYLyQoKjIEmh8kwN8DLAc5PzwwbLMyAAeK77IACYaQSEjUWZWhfYAjABMAMwALA+gbsVjoADqgjKESytQPxCHghAByXigYgBfr8LAsYj8aQMUASbDQcRSExCeCwFiIQh+AKfAYyBiQFgOPyIaikSGLQo0Zj-aazaY+dSaXjLDgAGXgAC9CKhDqAALxJaw2Ib2RzOISuDycLw+ImBYKQflCkWRRD2LXCw6JCxS1JCdJZHJ5RAFIbFJU8ADKC3WzEcnVZaGYE1ABpFnFOmsFhsil2uoHuzwArO9SmAAEIsSFrZB-GgAjjA5gtVN8VCEc1o1C4Q4AGlR2AwO1EsBQoAAbvB-gJ4HhPgB5aDwem-Ph1TCV3AEEirTp4ELtRbTPD4vwKjOfAuioSQHuDXBcnmgACC+eCONFEs73YAPGGZVT5cRyyhiHh7AAON7lsG3vBggB8XGV3l8-nVISOgghxoLq9i7io-AHsayRWGaFrlFauq2rg9qaIGQHwCBqChtKdgRo8TxRjeyB3o+7xAA)ï¼Œå½“ä½ é€‰æ‹© TS ç‰ˆæœ¬ä½äº 4.2ï¼Œå¹¶ä¸”é¼ æ ‡ hover åœ¨æœ€ä¸‹é¢çš„é”™è¯¯ä»£ç æ—¶ï¼Œæç¤ºä¿¡æ¯ä¸­å¹¶ä¸ä¼šåŒ…å«ä½ æŒ‡å®šçš„ç±»å
- `type` èƒ½å¤Ÿè‡ªå®šä¹‰å‘½ååŸå§‹æ•°æ®ç±»å‹ï¼ˆprimitiveï¼‰ï¼Œè€Œ `interface` ä¸è¡Œ
- è™½ç„¶ TS æ˜¯æ ¹æ®å½¢çŠ¶è¯†åˆ«ç±»å‹çš„ï¼ˆstructural typingï¼‰ï¼Œä½†æ˜¯å¦‚æœä¸æ˜¾ç¤ºæŒ‡å®š `interface` åè€Œå¯¼è‡´çš„æŠ¥é”™ï¼Œåˆ™ä¸ä¼šæ˜¾ç¤ºè¯¥ `interface` åï¼Œå…·ä½“å¯ä»¥çœ‹ä¸‹é¢çš„ä¾‹å­

```typescript
// Compiler error messages will always use
// the name of an interface:

interface Mammal {
  name: string
}

function echoMammal(m: Mammal) {
  console.log(m.name)
}

// e.g. The error below will always use the name Mammal
// to refer to the type which is expected:
echoMammal({ name: 12343 })

// The type of `m` here is the exact same as mammal,
// but as it's not been directly named, TypeScript
// won't mention it in the error messaging

function echoAnimal(m: { name: string }) {
  console.log(m.name)
}

echoAnimal({ name: 12345 })
```

å¤§å¤šæ•°æ—¶å€™ï¼Œä½ å¯ä»¥æ ¹æ®ä¸ªäººå–œå¥½é€‰æ‹©ä½¿ç”¨ `type` è¿˜æ˜¯ `interface`ï¼Œå¦‚æœä½ å–œæ¬¢å¯å‘å¼ç¼–ç¨‹ï¼Œåˆ™è€ƒè™‘ä½¿ç”¨ `interface`ï¼Œ ç›´åˆ°ä½ éœ€è¦ `type`çš„ä¸€äº›ç‰¹æ€§

</Primary>

<Warning title="å‚è€ƒè¿æ¥">

1. [WangDoc JS æ•™ç¨‹](https://wangdoc.com/javascript/types/number.html)
2. [å¯¹ js ä¸­è¡¨è¾¾å¼å’Œè¯­å¥çš„ç†è§£](https://zhuanlan.zhihu.com/p/38622128#:~:text=%E4%B8%80%E8%88%AC%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E5%9C%A8js,%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%AF%94%E5%A6%82%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5%EF%BC%9A&text=%E8%AF%AD%E5%8F%A5%E5%92%8C%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%E5%9C%A8%E4%BA%8E%EF%BC%8C%E8%AF%AD%E5%8F%A5%E6%98%AF%E4%B8%BA%E4%BA%86,%E7%9A%84%E5%80%BC%E4%B8%8D%E5%8C%85%E6%8B%ACundefined%EF%BC%89%E3%80%82)
3. [StackOverFlow å…³äº double è¡¨ç¤º](https://stackoverflow.com/questions/2003493/javascript-float-from-to-bits)

</Warning>
